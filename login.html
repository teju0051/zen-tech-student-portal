<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login | Student Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    .glass {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 1rem;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>
<body class="min-h-screen flex flex-col bg-cover bg-center bg-no-repeat" style="background-image: url('https://cdn.wallpapersafari.com/71/3/oNUCsY.jpg');">

<!-- Main Content -->
<div class="flex-grow flex items-center justify-center p-4">
  <div class="w-full max-w-5xl rounded-2xl overflow-hidden shadow-xl grid grid-cols-1 md:grid-cols-2">
    
    <!-- Left Panel (Now with light translucent white background) -->
    <div class="hidden md:flex flex-col justify-center items-center bg-white/10 text-purple-800 p-10 space-y-6">
      <img src="https://zen-tech-student-portal.vercel.app/Student's%20Portal!.png" class="w-44" alt="ERP Icon" />
      <h2 class="text-3xl font-bold">Welcome to Student Portal</h2>
      <p class="text-lg text-purple-700 text-center">Powering Smart Institutions with Beautiful Simplicity</p>
    </div>

   <!-- Right Panel (Login Form) with white background and purple text -->
<div class="p-8 sm:p-12 bg-white text-purple-800 rounded-tr-2xl rounded-br-2xl shadow-lg">
  <h3 class="text-2xl sm:text-3xl font-semibold mb-6 text-center">Login to your Account</h3>
  <form class="space-y-5" onsubmit="return showSpinner(event)">
    <div>
      <label for="username" class="block font-medium mb-1">Username / Email</label>
      <input type="text" id="username" placeholder="Enter your ID" required
             class="w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 border border-purple-300 text-purple-900 placeholder-purple-400 bg-white">
    </div>
    <div>
      <label for="password" class="block font-medium mb-1">Password</label>
      <input type="password" id="password" placeholder="Enter password" required
             class="w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 border border-purple-300 text-purple-900 placeholder-purple-400 bg-white">
    </div>
   <!-- Audio element -->
<audio id="loginSound" src="your-audio-file.mp3"></audio>

<!-- Your existing button -->
<button id="loginBtn" type="submit"
  class="w-full py-3 rounded-lg font-semibold bg-gradient-to-r from-purple-700 to-purple-900 hover:from-purple-800 hover:to-purple-950 transition transform hover:scale-105 shadow-md flex items-center justify-center gap-2 text-white">
  <span id="loginText">Login</span>
  <svg id="spinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"></path>
  </svg>
</button>

<!-- Script to handle click and play audio -->
<script>
  const loginBtn = document.getElementById('loginBtn');
  const loginSound = document.getElementById('loginSound');

  loginBtn.addEventListener('click', () => {
    loginSound.play();
 });
</script>

  </form>
  <p class="text-center text-sm text-purple-500 mt-6">
    Designed and Developed by <span class="font-semibold"> <a href="https://zen-tech.vercel.app/" class="hover:underline">Zen-Tech </a></span>
  </p>
</div>

  </div>
</div>


  <!-- Footer -->
  <footer class="text-center text-xs text-purple py-4">
    A Platform of <span class="font-semibold">T-Service</span> || Server: SEA-1
  </footer>
<script>
  function generateToken(username) {
    const timestamp = Date.now();
    return btoa(username + "_" + timestamp);
  }

  function showSpinner(e) {
    e.preventDefault();

    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    const btn = document.getElementById('loginBtn');
    const text = document.getElementById('loginText');
    const spinner = document.getElementById('spinner');

   

    if (username === "mgmsycs" && password === "Student") {
      btn.disabled = true;
      spinner.classList.remove('hidden');
      text.textContent = 'Logging in...';

      // Generate and save session token
      const token = generateToken(username);
      localStorage.setItem("sessionToken", token);

      setTimeout(() => {
        window.location.href = "https://zen-tech-student-portal.vercel.app/Sycs"; 
      }, 2000);
    }

      else if (username === "mgmsyit" && password === "Student") {
         btn.disabled = true;
      spinner.classList.remove('hidden');
      text.textContent = 'Logging in...';

      // Generate and save session token
      const token = generateToken(username);
      localStorage.setItem("sessionToken", token);

      setTimeout(() => {
        window.location.href = "https://zen-tech-student-portal.vercel.app/Syit"; 
      }, 2000);
    }

       else if (username === "admin@zentech.org" && password === "Admin123") {
    // Show the popup instead of logging in
    const popup = document.getElementById('suspendPopup');
    popup.style.display = 'block';
     document.getElementById('overlay').classList.remove('hidden');

    // Attach click listeners to Confirm and Cancel buttons
    document.getElementById('confirmBtn').onclick = () => location.reload();
    document.getElementById('cancelBtn').onclick = () => location.reload();

  }
    
    
    
    else {
      alert("Invalid username or password!");
    }
  }

  // anti-cheat mechanism
  function showWarning() {
    alert("Anti-Cheat System Activated!");
    document.body.innerHTML = "<h1 style='color:red;text-align:center;margin-top:20vh;'>⚠️ Abnormal activity detected. Session has been suspended!!\n\nPlease refrain from doing any illegal activities.\nElse permanent ban to your IP will be implemented!!</h1>";
    document.body.style.pointerEvents = 'none';
  }

  document.addEventListener('contextmenu', e => {
    e.preventDefault();
    showWarning();
  });

  ['copy', 'paste', 'cut'].forEach(evt =>
    document.addEventListener(evt, e => {
      e.preventDefault();
      showWarning();
    })
  );

  document.addEventListener('selectstart', e => {
    e.preventDefault();
    showWarning();
  });

  document.addEventListener('keydown', function (e) {
    if (
      e.key === 'F12' ||
      (e.ctrlKey && e.shiftKey && ['I', 'J'].includes(e.key)) ||
      (e.ctrlKey && e.key.toUpperCase() === 'U')
    ) {
      e.preventDefault();
      showWarning();
    }

    const isInput = ['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName);
    if ((e.key === 'Backspace' || e.key === 'Delete') && !isInput) {
      e.preventDefault();
      showWarning();
    }
  });



</script>


<!-- Overlay for blur -->
<div id="overlay" class="hidden fixed inset-0 bg-black bg-opacity-30 backdrop-blur-sm z-40"></div>

<!-- Popup Panel -->
<div id="suspendPopup" class="hidden fixed top-1/2 left-1/2 z-50 w-[500px] max-w-full -translate-x-1/2 -translate-y-1/2 rounded-xl bg-white p-10 shadow-2xl text-center">
  <!-- Alert Icon -->
  <div class="flex justify-center mb-6">
    <svg class="w-16 h-16 text-red-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" d="M10.29 3.86L1.82 18a1.5 1.5 0 001.29 2.25h17.78a1.5 1.5 0 001.29-2.25L13.71 3.86a1.5 1.5 0 00-2.42 0zM12 9v4m0 4h.01"/>
    </svg>
  </div>

  <h3 class="text-3xl font-bold mb-4 text-red-700">Tips</h3>
  <p class="mb-8 text-lg text-gray-700">There are abnormal activities with your account. It has been temporarily suspended for your safety and security.</p>
  
  <div class="flex justify-center gap-6">
    <button id="confirmBtn" class="px-8 py-3 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition">Confirm</button>
    <button id="cancelBtn" class="px-8 py-3 rounded-lg bg-gray-300 font-semibold hover:bg-gray-400 transition">Cancel</button>
  </div>
</div>



</body>
</html>
